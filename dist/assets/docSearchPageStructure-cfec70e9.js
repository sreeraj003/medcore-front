import{P as N,c as v,u as b,j as s,d as y,r as c,a as m,e as D}from"./index-b85c587b.js";h.propTypes={docData:N.array};function h({docData:l}){const n=v(),d=b(),o=e=>{console.log(e),n(y(e)),d("/appointments")};return console.log(l),s.jsx(s.Fragment,{children:s.jsx("div",{className:"d-flex p-3 flex-wrap gap-3",children:l.length>0?l.map((e,r)=>{var i;return s.jsxs("div",{className:"m-3 card",style:{width:"12rem",minHeight:"20rem"},children:[s.jsx("div",{className:"m-auto",style:{width:"100%",height:"10rem"},children:s.jsx("img",{style:{width:"100%",height:"10rem"},src:`http://localhost:8080/images/${e.image}`,className:"card-img-top",alt:"..."})}),s.jsxs("div",{className:"card-body mb-0 ps-2",style:{textAlign:"left",maxWidth:"13rem",left:0},children:[s.jsx("h5",{className:"text-dark",children:e.name}),s.jsxs("p",{className:"ms",style:{fontSize:"13px",color:"black",opacity:"80%"},children:[(i=e==null?void 0:e.doctorData[0])==null?void 0:i.name," ",s.jsx("br",{}),e.qualification]})]}),s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12 mb-2 d-flex justify-content-between",children:[s.jsx("div",{}),s.jsxs("div",{className:"pe-2",children:["Rs.",e.fee]})]})}),s.jsx("button",{className:"btn m-2 mt-0 btn-outline-success",onClick:()=>o(e),children:"Book"})]},r)}):s.jsxs("div",{className:"ms-5",children:[s.jsx("b",{children:"Ooopsie...!"})," ",s.jsx("br",{}),"No doctor found"]})})})}function k(){const[l,n]=c.useState([]),[d,o]=c.useState([]),[e,r]=c.useState(""),[i,x]=c.useState(!1),[p,u]=c.useState([]);c.useEffect(()=>{(async()=>{try{const a=await m.get("http://localhost:8080/findDoctors");n(a.data.docs),u(a.data.deps)}catch(a){console.error(a)}})()},[]);const j=c.useCallback(async t=>{t.preventDefault(),e?await m.get(`http://localhost:8080/searchDoc/${e}`,{}).then(a=>{o(a.data)}):await m.get("http://localhost:8080/searchDoc/all",{}).then(a=>{console.log(a.data),o(a.data)}),x(!0)},[e]),g=t=>{const a=l.filter(f=>f.doctorData[0].name===t.target.value);o(a),x(!0)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-4 col-md-3 bg-light p-1 text-center",children:s.jsxs("div",{className:"outline-success mt-5",children:[s.jsx("h3",{children:"Departments"}),s.jsx("div",{className:"text-start m-auto ",style:{maxWidth:"300px"},children:s.jsx("ul",{className:"list-group ms-auto ",children:p?p.map(t=>s.jsxs("li",{className:"list-group-item ps-1  pt-2 pb-2 p-0",children:[s.jsx("input",{className:"form-check-input me-1",type:"radio",name:"listGroupRadio",value:t.name,onClick:a=>g(a),id:t.name},t.name),s.jsx("label",{className:"form-check-label",htmlFor:t.name,children:t.name})]},t._id)):s.jsx("div",{children:"No departments available"})})})]})}),s.jsxs("div",{className:"col-8 col-md-9",children:[s.jsxs("div",{className:"d-flex p-4 pb-0",children:[s.jsx("input",{type:"text",className:"my-auto  bg-light form-control",style:{maxWidth:"60%"},value:e,onChange:t=>r(t.target.value),placeholder:"Search doctors..."}),s.jsx("button",{className:"btn pt-0 ms-2 btn-success",onClick:j,children:s.jsx(D,{})})]}),i?s.jsx(h,{docData:d}):s.jsx(h,{docData:l})]})]})})}export{k as default};
