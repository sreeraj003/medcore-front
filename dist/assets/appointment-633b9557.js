import{c as T,u as A,b as u,r as i,j as e,L as j,B as L,a as B,s as E}from"./index-b85c587b.js";/* empty css                    */function _(){var p;const g=T(),l=A(),t=u(s=>s.selectedDoc.doc),a=u(s=>s.user.data),[d,N]=i.useState([]),[c,v]=i.useState("Date"),[r,b]=i.useState("Time"),[o,f]=i.useState(""),[x,S]=i.useState(["No data"]),[h,k]=i.useState(""),m=localStorage.getItem("userToken");i.useEffect(()=>{async function s(){t.doctorData?await B.get(`http://localhost:8080/docSchedule/${t._id}`,{headers:{Authorization:`Bearer ${m}`}}).then(n=>{console.log(n.data),n.data=="blocked"?(l("/login"),localStorage.removeItem("userToken")):N(n.data)}):l("/findDoctor")}s()},[t._id,t.doctorData,l,m]);const y=s=>{v(s);const n=d.filter(D=>D.date==s);console.log(n[0].time),S(n[0].time)},w=async()=>{if(c=="Date"||r=="Time")f("Please select session date and time");else{const s={doctor:t._id,user:a._id,date:c,time:r,issues:h,fee:t.fee};g(E(s)),l("/payment")}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" slice mx-auto text-center mt-5 p-4 app-div",style:{maxWidth:"800px"},children:[o?e.jsx("div",{className:"mt-3 alert-danger alert",children:o}):"",e.jsx("h3",{children:e.jsx("b",{children:" Book Your Appointments"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 mt-5 text-center",children:e.jsx("h4",{children:e.jsx("b",{children:"Patient Details"})})}),e.jsxs("div",{className:"col-5   text-end",children:[e.jsx("p",{children:"         Name :"}),e.jsx("p",{children:"          Age :"}),e.jsx("p",{children:"       Gender :"}),e.jsx("p",{children:"      Address :"}),e.jsx("p",{children:"Health issues :"})]}),e.jsxs("div",{className:"col-7",children:[e.jsx("p",{children:a.userName?a.userName:" "}),e.jsx("p",{children:a==null?void 0:a.age}),e.jsx("p",{children:a.gender?a.gender:" "}),e.jsx("p",{children:a.address?a.address:" "}),e.jsx("textarea",{name:"issues",id:"",value:h,onChange:s=>k(s.target.value),className:"form-control",cols:"30",rows:"5",placeholder:"Enter your health issues here..."})]})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 mt-5 text-center",children:e.jsx("h4",{children:e.jsx("b",{children:"Doctor Details"})})}),e.jsxs("div",{className:"col-12 text-center",children:[e.jsxs("h5",{children:["Dr.",t==null?void 0:t.name]}),e.jsx("div",{className:"text-secondary",children:t.doctorData?(p=t==null?void 0:t.doctorData[0])==null?void 0:p.name:""}),e.jsx("div",{className:"text-secondary",children:t==null?void 0:t.qualification}),e.jsx("div",{children:e.jsxs("b",{children:["Fee : ",e.jsx("span",{className:"text-success",children:t.fee})]})}),e.jsxs("div",{className:"",children:[e.jsx("b",{children:"Session Timing "}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"btn p-1 bg-light btn-outline-dark mt-2 text-dark drpp dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{maxWidth:"150px",minWidth:"100px",fontSize:"14px"},children:c}),e.jsx("ul",{className:"dropdown-menu dateDrop",children:d&&d.map(s=>e.jsxs("li",{children:[" ",e.jsx(j,{className:"appLink",onClick:()=>y(s.date),children:s.date})]},s.date))})]}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"btn drpp p-1 bg-light btn-outline-dark mt-2  text-dark dropdown-toggle",style:{maxWidth:"150px",minWidth:"100px",fontSize:"14px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:r}),e.jsx("ul",{className:"dateDrop dropdown-menu",children:x&&x.map((s,n)=>e.jsx("li",{children:e.jsx(j,{className:"appLink",onClick:()=>b(s),children:s})},n))})]})]})]})]})}),e.jsx("div",{className:"col-12 mt-4 d-flex justify-content-center align-items-center",children:e.jsxs("button",{className:"btn p-1 btn-outline-success",onClick:w,children:["Book Appointment ",e.jsx(L,{style:{marginTop:"-2px"}})]})})]})]})})}export{_ as default};
